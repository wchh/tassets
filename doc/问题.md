代币经济的问题:

1. TDT和TCA的区别? 在我们的系统中作用都是什么? 除了TDT总量2100亿固定, TCA无限量, 感觉意义有些重合. 

2. TCA只能通过购买发行, TDT是否也是通过购买发行? 如果是, 那么初始发行2100万, 对应的价值代币在哪里? 

3. TDT初始发行2100万, 如何分配? 之前的分配方案是100万初始化, 100万运营, 100万社区, 剩余1800万分成6份, 分别6个核心服务初始化. 当前只实现3个核心服务, 该如何分配?

4. 每个协议都有自己的主代币作为奖励代币, 比如radiant RDNT, Thena的The, GMX的GMX等. 
   
   每种协议还为流动性提供代币, 比如radiant dLP, 是抵押ETH和BNB获得的; Thena每个池子都有自己的lp token; GMX 的GLP/GM(v2). 在加上管理代币DAO token, 如果我们也这样实现, 代币类型是不是太多了? 

5. TideAssets 主要是为了基于智能合约（锁仓资产库）构建波动率小（相比btc、eth）的原生链上资产。
   目前主要三类资产：
   a. 锚定法币，例如 tsusd，尝试将价格锚定在1usd；
   b. 指数基金，TCA， 计划里面两个版本
    TCA v1，在财库锁定 各类稳定币，通过借贷和交易，获得比持有稳定币更高的收益；
    TCA v2，在稳定币上增加 btc,eth,tdt 等波动资产，获得更低的波动性同时通过借贷和交易获得更高收益；
   c. 非等比承兑（卖出和买入价格最高相差100%），以治理权为主要目的的 TDT。

所以TDT和TCA是完全不同的两种资产
a)合约的交易价格， TDT 发行时，主要参考 Swap 和 Oracle（如果有）的价格，和财库资产无关。例如外面现在 1.5 usd，财库资产除以流通量算出是1.2 usd，那用户向合约购买时使用 1.5 usd；而销毁的时候使用 1.2 usd。 TCA只参考财库算出的价格，和外部价格无关；
b)TDT的主要目的是DAO治理，而 TCA 则是ETF基金模式，为全平台提供流动性；
c)TDT固定总量主要是为了未来可以随便炒作（全部发行后，将会解除200%价格锁定），全流通后的价格和财库资产无关，而TCA永远受财库资产价格绑定。

2.TDT和TCA都只能通过向发行合约购买来初始化发行，初始发行的2100万TDT可以理解为预增发的，没有资产对应，主要体现治理权限。不过对于整体的发行没有影响：
a)TDT 在发行的时候，正常会增发5%给 dev（4%）+dao（1%）。但是如果用户购买总量低于 21,000,000*20=4.2亿则不增发，但是计入发行量。
b)计算回购（销毁）价格时，使用发行量这个值。例如目前用户一共购买了 100 万TDT，那总发行量 105万，而总流通量是 2200 万（加上预发行的2100万）。

3.预发行的2100万先进入 marketing锁仓合约，用多少释放多少，没有上线 DAO 的项目先空着就可以。

平台通過 DAO 實現治理，投票權由 TTL 鎖定權重(1)，TTL/TID 鎖定權重(3)和 TTL/TDT 鎖定權重(5)三部分構成。根據用戶鎖定權重的可以分別分享平台 10%，30%和 50%收益。
同時提供賄賂機制，便於不同的存款/借款資產實現不同的 TTL 排放。

关于DAO，目前系统里面会有多个DAO：

1. TDT 作为全平台（TideAssets）的DAO管理资产，锁仓为 veTDT 即可获得投票权（不用考虑dLP）。管理整个 TDT、TCA还有 tsAssets（例如tsUSD）等相关合约参数。还有子平台（例如tLend）的DAO没有启动前的初始化。暂不考虑系统分红的问题。
2. 子平台的DAO，例如tLend，使用 TTL 的锁仓资产 veTTL，还有多个 dLP 的投票权重。例如你提到的 TID，如果没有上线，那只考虑 veTTL 和 TTL/TDT 的 dLP。 例如以锁仓 12个月为基础单位， 100 个 TTL 生成的 veTTL 投票权重为 100，100个 TTL/TDT的dLP 投票权重是 300。（由于价格波动 1 TTL/TDT 里面包含的 TTL 不一定是 1 个）

我再明确一下：

1. tideassets 资产发行的几个平台（TDT、TCA、tsAssets稳定币）使用 veTDT 治理（暂时可以只考虑调整参数）
2. tLend 使用 veTTL 作为治理（增加代币、调整抵押率、设置借贷上限、调整每个池子排放等等）... 使用 dLP （TTL/TDT） 增加排放收益和分享平台收益；
3. tSwap 使用 veTTS 作为治理（主要调整每个池子手续费、代币奖励排放等等）... 使用 dLP （TTL/TDT） 增加排放收益和分享平台收益；
4. tPerp 使用 veTTP 作为治理（主要调整各锁仓池代币奖励排放等等）... 使用 dLP （TTP/TDT） 增加排放收益和分享平台收益；
5. 

对了，多链并行现在准备用什么方案？
第一次准备上 eth、op、arb、base（这个跨链应该比较容易），视难度上 bsc/matic/avax 等平行链和 zksync/linear 等还没起来的 L2。
这样就涉及代币、消息的跨链，理论 layerzero就够了，你再确认一下

还有 gmx 的 v2 现在已经通过 独立 LP （GM）实现了小币种的永续合约，例如 使用 arb/usdc 的GM作为 arb 做多做空的交易对手， eth/usdc 的GM作为 xrp 做多做空的交易对手，我看到你前面的分析文档好像没有这部分功能。

还有，dLP 获得的平台币排放奖励是有锁仓的 veToken，无法马上砸盘。目前有几种模式可以参考：

1. radiant 的固定锁仓期，可以打折提前取出；
2. GMX的 esGMX，需要锁等量GMX，365天线性解锁；
3. Level finance出了一个很好玩的规则，可以和 gmx 类似锁仓 LVL 1年后线性解锁等量 preLVL，或者支付 30%的USDT作为罚款实时解锁。（https://app.level.finance/vesting/accelerated）

从实现难度，可能统一使用 radiant 的规则最简单。

### 流动性和奖励

1. Radiant
- 用户存款和取款都有利息, 和银行类似. Radiant收益一部分来自利息差.

- 如果用户只存款没有锁定dLP, 那么用户只能获得存款利率(APY), 没有RDNT的排放奖励.

- 如果用户存款,并且有至少5%的dLP锁定, 那么用户除了APY, 还有RDNT排放的奖励

- dLP 有两种获取方式: 
  
  - Arbitrum: Balancer 80/20 composition (80% RDNT & 20% ETH)
  - BNB Chain: Pancakeswap 50/50 (50% RDNT & 50% BNB)
  
  Balancer和Pancakeswap是两个去中心化的交易所, 增加流动性获得lp token.
  
  这里的80/20, 50/50是添加流动性时的资产价值的比例, 不是数量.

- 因为Radiant分别部署在Arb和BNB链上, 所以dLP token不同, 收益也不同. 用户可以根据收益自己挑选.

- 用户使用zap功能, 直接把自己的资产(ETH, BNB和RDNT, 如果没有ETH等, 可以借出来), 直接抵押到Blancer和Pancakeswap 相应的lp 池子里, 换取lp token, 然后把lp token抵押到(stake) 系统里, 这样比自己操作少3个步骤(3个交易)
2. Thena
- Thena每个lp pool都有对应的lp token; 

- 用户添加流动性到lp pool会获得相应的lp token;

- 用户锁定lp token会获得THE排放奖励(添加流动性比例必须是50:50)

- 持有veTHE的用户每周会对 lp pool投票;

- 根据票数, lp pool会获取THE排放奖励;

- 锁定lp token的用户会根据权重获得相应的THE排放奖励.

- 添加流动性的用户会获取交易费的奖励, 不同类型的池子, 奖励不同.
3. GMX
- 我们主要关注GMX V2: GM代替GLP. 通过单独的池子提供流动性. GLP通过9种代币构成指数(每种代币比例不同, ETH, BTC和USD比例超过90%). 

- 流动性提供者可以从杠杆交易、借贷费和兑换中赚取费用。

- 流动性提供者可以通过购买或出售GM代币来加入或退出GM池。

- GM代币的价格取决于长仓代币和空仓代币的价格以及交易者开仓的净盈亏。交易费用会自动提高GM代币的价格。

- 也就是每个池子的GM代币价格不同. 每种GM代币只能在对应的池子里买和卖(应该是deposit和withdraw更准确, 代码里是这两个函数, 但是由于GM代币价格会随着时间改变, 所以买卖混存在价差)

- 每个池子, 也叫Market, 有4种代币组成: 
  
  - GMX Market Token(GM): 用户Deposit Long/Short中的一种或者两种token, 换取的代币.
  
  - Index Token: 指数代币, 做空做多的指数
  
  - Long Token: 多头抵押代币
  
  - Short Token: 空头抵押代币

- 购买GM 就意味着给池子添加流动性.

- 持有GM代币没有排放奖励

- GM的持有者实际是用户交易的对手方, 如果用户获利, 意味着GM持有人亏损.
4. tLend, tSwap, tPerp的设计:
- 我们保留以上实现

- tLend中, 我们根据部署的平台, dLP获取方式不同.

- tSwap中, 和Thena一致就好

- tPerp中, 我们和GMX V2 一致. 
